{% extends "base.html" %}
{% from "macros.html" import data_card %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="mb-2">
                    <i class="bi bi-activity text-success me-2"></i>
                    Observations
                </h1>
                <p class="text-muted mb-0">
                    Vital signs, measurements, and laboratory results
                    {% if file_count %}({{ file_count }} files){% endif %}
                </p>
            </div>
        </div>
    </div>
</div>

{% if categories %}
<div class="row g-4">
    {% for category in categories %}
        {% set description = "Essential health measurements and vital signs" if "vital" in category.name.lower() else "Laboratory test results and analysis" if "lab" in category.name.lower() else "Health surveys and questionnaires" if "survey" in category.name.lower() else "Health observations and measurements" %}
        {% set icon_class = "bi-heart-pulse" if "vital" in category.name.lower() else "bi-flask" if "lab" in category.name.lower() else "bi-clipboard-check" if "survey" in category.name.lower() else "bi-graph-up" %}
        {% set icon_color = "text-danger" if "vital" in category.name.lower() else "text-primary" if "lab" in category.name.lower() else "text-info" if "survey" in category.name.lower() else "text-success" %}
        
        {{ data_card(category.name, description, category.count, "files", category.url, icon_class, icon_color) }}
    {% endfor %}
</div>
{% else %}
<div class="row">
    <div class="col-12">
        <div class="alert alert-info" role="alert">
            <i class="bi bi-info-circle me-2"></i>
            <strong>No observation categories found.</strong>
            <p class="mb-0 mt-2">
                There may be no observation data in your health export, or the data may be organized differently than expected.
            </p>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

